(this["webpackJsonpgoit-react-hw-05-movies"]=this["webpackJsonpgoit-react-hw-05-movies"]||[]).push([[6],{53:function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"c",(function(){return s})),n.d(t,"e",(function(){return i})),n.d(t,"d",(function(){return a})),n.d(t,"a",(function(){return c}));var r="https://api.themoviedb.org/3/",c="1e1d4e13b76e9f56ba601bf1e8785fb3";function i(){return fetch("".concat(r,"trending/movie/day?api_key=").concat(c)).then((function(e){return e.ok?e.json():Promise.reject(new Error("Nothind found"))})).then((function(e){return e.results}))}function o(e){return fetch("".concat(r,"movie/").concat(e,"?api_key=").concat(c)).then((function(e){return e.ok?e.json():Promise.reject(new Error("Nothind found"))}))}function a(e){return fetch("".concat(r,"movie/").concat(e,"/reviews?api_key=").concat(c)).then((function(e){return e.ok?e.json():Promise.reject(new Error("Nothing found"))}))}function s(e){return fetch("".concat(r,"search/movie?api_key=").concat(c,"&query=").concat(e)).then((function(e){return e.json()})).then((function(e){return e.results}))}},54:function(e,t,n){"use strict";function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function c(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,c=!1,i=void 0;try{for(var o,a=e[Symbol.iterator]();!(r=(o=a.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(s){c=!0,i=s}finally{try{r||null==a.return||a.return()}finally{if(c)throw i}}return n}}(e,t)||function(e,t){if(e){if("string"===typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}n.d(t,"a",(function(){return c}))},60:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return v}));var r=n(54),c=n(0),i=n(3),o=n(6),a=n(53),s=n(1);function u(){var e=Object(i.h)().movieId,t=Object(c.useState)(null),n=Object(r.a)(t,2),o=n[0],u=n[1];return Object(c.useEffect)((function(){a.d(e).then(u)}),[e]),Object(s.jsx)(s.Fragment,{children:o&&o.results[0]?Object(s.jsx)("ul",{children:o.results.map((function(e){return Object(s.jsxs)("li",{children:[Object(s.jsxs)("h4",{children:["Author: ",e.author]}),Object(s.jsx)("p",{children:e.content})]},e.id)}))}):"We don't have any reviews for this movie."})}function l(e){return Object(s.jsx)("button",{type:"button",onClick:e.onClick,children:e.children})}function d(e){var t=e.movies;return Object(s.jsxs)("div",{className:"card-wrap",children:[Object(s.jsx)("img",{className:"movie-img",src:"https://image.tmdb.org/t/p/w300".concat(t.poster_path,"?api_key=").concat(a.a),alt:t.original_title}),Object(s.jsxs)("div",{className:"movie-desc",children:[Object(s.jsx)("h2",{className:"movie-title",children:t.original.title}),Object(s.jsxs)("p",{children:["User Score: ",t.vote_average]}),Object(s.jsx)("h3",{children:"Overview:"}),Object(s.jsx)("p",{children:t.overview}),Object(s.jsx)("h3",{children:"Genres:"}),Object(s.jsx)("ul",{className:"movie__list",children:t.genres.map((function(e){return Object(s.jsx)("li",{className:"movie-item",children:e.name},"{genre.id}")}))})]})]})}var j=n(12),h="idle",f="pending",b="rejected";function v(){var e,t,n,v,m=Object(i.g)(),O=Object(i.f)(),p=Object(i.i)().url,x=Object(i.h)().movieId,y=Object(c.useState)(null),g=Object(r.a)(y,2),w=g[0],k=g[1],S=Object(c.useState)(h),_=Object(r.a)(S,2),N=_[0],A=_[1];Object(c.useEffect)((function(){A(f),a.b(x).then(k).catch((function(){return A(b)})).finally((function(){return A(h)}))}),[x]);return Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)(l,{onClick:function(){var e,t;A(f),O.push(null!==(e=null===m||void 0===m||null===(t=m.state)||void 0===t?void 0:t.from.location)&&void 0!==e?e:"/")},children:"Go back"}),N===f&&Object(s.jsx)(j.a,{}),w&&Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)(d,{movies:w}),Object(s.jsx)("p",{children:"Additional information"}),Object(s.jsxs)("ul",{children:[Object(s.jsx)(o.b,{to:{pathname:"".concat(p,"/cast"),state:{from:null!==(e=null===m||void 0===m||null===(t=m.state)||void 0===t?void 0:t.from)&&void 0!==e?e:"/",label:"Back to the selected movie"}},children:"Cast"}),Object(s.jsx)(o.b,{to:{pathname:"".concat(p,"/reviews"),state:{from:null!==(n=null===m||void 0===m||null===(v=m.state)||void 0===v?void 0:v.from)&&void 0!==n?n:"/"}},children:"Reviews"})]}),Object(s.jsxs)(i.c,{children:[Object(s.jsx)(i.a,{exact:!0,path:"/movies/:movieId/cast",children:"Cast"}),Object(s.jsx)(i.a,{path:"/movies/:movieId/reviews",children:Object(s.jsx)(u,{})})]})]})]})}}}]);
//# sourceMappingURL=6.50176c22.chunk.js.map