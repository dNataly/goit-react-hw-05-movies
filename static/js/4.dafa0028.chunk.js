(this["webpackJsonpgoit-react-hw-05-movies"]=this["webpackJsonpgoit-react-hw-05-movies"]||[]).push([[4],{53:function(e,t,n){"use strict";n.d(t,"b",(function(){return u})),n.d(t,"c",(function(){return i})),n.d(t,"e",(function(){return o})),n.d(t,"d",(function(){return a})),n.d(t,"a",(function(){return r}));var c="https://api.themoviedb.org/3/",r="1e1d4e13b76e9f56ba601bf1e8785fb3";function o(){return fetch("".concat(c,"trending/movie/day?api_key=").concat(r)).then((function(e){return e.ok?e.json():Promise.reject(new Error("Nothind found"))})).then((function(e){return e.results}))}function u(e){return fetch("".concat(c,"movie/").concat(e,"?api_key=").concat(r)).then((function(e){return e.ok?e.json():Promise.reject(new Error("Nothind found"))}))}function a(e){return fetch("".concat(c,"movie/").concat(e,"/reviews?api_key=").concat(r)).then((function(e){return e.ok?e.json():Promise.reject(new Error("Nothing found"))}))}function i(e){return fetch("".concat(c,"search/movie?api_key=").concat(r,"&query=").concat(e)).then((function(e){return e.json()})).then((function(e){return e.results}))}},57:function(e,t,n){},62:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return v}));var c=n(58),r=n(54),o=n(0),u=n(55),a=(n(56),n(3)),i=n(6),s=n(53),f=n(57),h=n.n(f),j=n(1);function b(e){var t=e.onSubmit,n=Object(o.useState)(""),c=Object(r.a)(n,2),a=c[0],i=c[1];return Object(j.jsxs)("form",{onSubmit:function(e){if(e.preventDefault(),""===a.trim())return u.b.error("Please enter a correct name");t(a),i("")},children:[Object(j.jsx)("input",{className:h.a.searchInput,placeholder:"Search movie by name",value:"requestName",onChange:function(e){i(e.currentTarget.value.toLowerCase())}}),Object(j.jsx)("button",{type:"submit",className:h.a.searchBtn,children:"Search"})]})}var d=n(12),l="idle",m="pending",O="resolved",p="rejected";function v(){var e,t=Object(o.useState)(""),n=Object(r.a)(t,2),f=(n[0],n[1]),h=Object(o.useState)(null),v=Object(r.a)(h,2),g=v[0],w=v[1],S=Object(o.useState)(l),x=Object(r.a)(S,2),y=x[0],k=x[1],N=Object(a.i)().url,P=Object(a.g)(),q=Object(a.f)(),E=null!==(e=new URLSearchParams(P.search).get("query"))&&void 0!==e?e:"";Object(o.useEffect)((function(){E&&(k(m),s.c(E).then((function(e){if(0===e.length)return k(p),void u.b.error("Something went wrong! Please enter correct request");w(e),k(O)})).catch((function(){return k(p)})))}),[E]);return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(b,{onSubmit:function(e){f(e),q.push(Object(c.a)(Object(c.a)({},P),{},{search:"query=".concat(e)}))}}),y===m&&Object(j.jsx)(d.a,{}),Object(j.jsx)("ul",{children:g&&g.map((function(e){return Object(j.jsx)("li",{children:Object(j.jsx)(i.b,{to:{pathname:"".concat(N,"/").concat(e.id),state:{from:{location:P}}},children:e.title})},e.id)}))}),Object(j.jsx)(u.a,{autoClose:3e3})]})}}}]);
//# sourceMappingURL=4.dafa0028.chunk.js.map